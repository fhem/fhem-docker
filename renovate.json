{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended",
    "docker:pinDigests"
  ],
  "packageRules": [
    {
      "groupName": "perlImagesMinor",
      "matchDatasources": ["docker"],
      "matchPackageNames": ["perl"],
      "minimumReleaseAge": "14 days",
      "allowedVersions": "/^(5\\.)([1-9][02468])(\\.\\d)?(.*)$/"
    },
    {
      "groupName": "Docker Digest",
      "matchDatasources": ["docker"],
      "matchPackageNames": ["perl"],
      "minimumReleaseAge": "2 days",
      "matchUpdateTypes": ["patch", "pin", "digest"],
      "automerge": true,
      "commitMessageExtra": "to {{#if isPinDigest}}{{{newDigestShort}}}{{else}}{{#if isMajor}}{{prettyNewMajor}}{{else}}{{#if isSingleVersion}}{{prettyNewVersion}}{{else}}{{#if newValue}}{{{newValue}}}{{else}}{{{newDigestShort}}}{{/if}}{{/if}}{{/if}}{{/if}}"
    }
  ]
}
